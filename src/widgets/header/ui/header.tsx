"use client";

import { useState } from "react";
import {
  Navbar, 
  NavbarBrand, 
  NavbarContent, 
  NavbarMenuToggle,
  NavbarItem, 
  NavbarMenu,
  // NavbarMenuItem,
  Link, 
  DropdownItem, 
  DropdownTrigger, 
  Dropdown, 
  DropdownMenu, 
  Avatar,
  Chip
} from "@nextui-org/react";
import DarkModeSwitch from "@/shared/ui/dark-mode-switch";
import { SplitCategories } from "@/features/render-category";
import { CatListProps } from "@/shared/types/component";

export const Header = ({categoryList}: CatListProps) => {
  const [isMenuOpen, setIsMenuOpen] = useState(false);
  const buildDate = process.env.NEXT_PUBLIC_BUILD_DATE || "xx.xx.xx";

  return (
    <Navbar
      isMenuOpen={isMenuOpen}
      onMenuOpenChange={setIsMenuOpen}
    >
      <NavbarContent className="lg:hidden" justify="start">
        <NavbarMenuToggle aria-label={isMenuOpen ? "Close menu" : "Open menu"} />
      </NavbarContent>

      <NavbarBrand className="flex justify-start gap-4">
        {/* <p className="font-bold text-inherit">Hansol.io</p> */}
        <Link href="/" color="foreground">
          <svg width="72" height="14" viewBox="0 0 72 14" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path 
              d="M0.0113636 13V1.36364H2.47159V6.16477H7.46591V1.36364H9.92045V13H7.46591V8.19318H2.47159V13H0.0113636ZM14.392 13.1648C13.8352 13.1648 13.339 13.0682 12.9034 12.875C12.4678 12.678 12.1231 12.3883 11.8693 12.0057C11.6193 11.6193 11.4943 11.1383 11.4943 10.5625C11.4943 10.0777 11.5833 9.67045 11.7614 9.34091C11.9394 9.01136 12.1818 8.74621 12.4886 8.54545C12.7955 8.3447 13.1439 8.19318 13.5341 8.09091C13.928 7.98864 14.3409 7.91667 14.7727 7.875C15.2803 7.82197 15.6894 7.77273 16 7.72727C16.3106 7.67803 16.536 7.60606 16.6761 7.51136C16.8163 7.41667 16.8864 7.27652 16.8864 7.09091V7.05682C16.8864 6.69697 16.7727 6.41856 16.5455 6.22159C16.322 6.02462 16.0038 5.92614 15.5909 5.92614C15.1553 5.92614 14.8087 6.02273 14.5511 6.21591C14.2936 6.4053 14.1231 6.64394 14.0398 6.93182L11.8011 6.75C11.9148 6.2197 12.1383 5.76136 12.4716 5.375C12.8049 4.98485 13.2348 4.68561 13.7614 4.47727C14.2917 4.26515 14.9053 4.15909 15.6023 4.15909C16.0871 4.15909 16.5511 4.21591 16.9943 4.32955C17.4413 4.44318 17.8371 4.61932 18.1818 4.85795C18.5303 5.09659 18.8049 5.40341 19.0057 5.77841C19.2064 6.14962 19.3068 6.5947 19.3068 7.11364V13H17.0114V11.7898H16.9432C16.803 12.0625 16.6155 12.303 16.3807 12.5114C16.1458 12.7159 15.8636 12.8769 15.5341 12.9943C15.2045 13.108 14.8239 13.1648 14.392 13.1648ZM15.0852 11.4943C15.4413 11.4943 15.7557 11.4242 16.0284 11.2841C16.3011 11.1402 16.5152 10.947 16.6705 10.7045C16.8258 10.4621 16.9034 10.1875 16.9034 9.88068V8.95455C16.8277 9.00379 16.7235 9.04924 16.5909 9.09091C16.4621 9.12879 16.3163 9.16477 16.1534 9.19886C15.9905 9.22917 15.8277 9.25758 15.6648 9.28409C15.5019 9.30682 15.3542 9.32765 15.2216 9.34659C14.9375 9.38826 14.6894 9.45455 14.4773 9.54545C14.2652 9.63636 14.1004 9.75947 13.983 9.91477C13.8655 10.0663 13.8068 10.2557 13.8068 10.483C13.8068 10.8125 13.9261 11.0644 14.1648 11.2386C14.4072 11.4091 14.714 11.4943 15.0852 11.4943ZM23.6051 7.95455V13H21.1847V4.27273H23.4915V5.8125H23.5938C23.7869 5.30492 24.1108 4.90341 24.5653 4.60795C25.0199 4.30871 25.571 4.15909 26.2188 4.15909C26.8248 4.15909 27.3532 4.29167 27.804 4.55682C28.2547 4.82197 28.6051 5.20076 28.8551 5.69318C29.1051 6.18182 29.2301 6.76515 29.2301 7.44318V13H26.8097V7.875C26.8134 7.34091 26.6771 6.92424 26.4006 6.625C26.1241 6.32197 25.7434 6.17045 25.2585 6.17045C24.9328 6.17045 24.6449 6.24053 24.3949 6.38068C24.1487 6.52083 23.9555 6.72538 23.8153 6.99432C23.679 7.25947 23.6089 7.57955 23.6051 7.95455ZM38.3991 6.76136L36.1832 6.89773C36.1454 6.70833 36.0639 6.53788 35.9389 6.38636C35.8139 6.23106 35.6491 6.10795 35.4446 6.01705C35.2438 5.92235 35.0033 5.875 34.723 5.875C34.348 5.875 34.0317 5.95455 33.7741 6.11364C33.5166 6.26894 33.3878 6.47727 33.3878 6.73864C33.3878 6.94697 33.4711 7.12311 33.6378 7.26705C33.8045 7.41098 34.0904 7.52652 34.4957 7.61364L36.0753 7.93182C36.9238 8.10606 37.5563 8.38636 37.973 8.77273C38.3897 9.15909 38.598 9.66667 38.598 10.2955C38.598 10.8674 38.4295 11.3693 38.0923 11.8011C37.759 12.233 37.3007 12.5701 36.7173 12.8125C36.1378 13.0511 35.4692 13.1705 34.7116 13.1705C33.5563 13.1705 32.6359 12.9299 31.9503 12.4489C31.2685 11.964 30.8688 11.3049 30.7514 10.4716L33.1321 10.3466C33.2041 10.6989 33.3783 10.9678 33.6548 11.1534C33.9313 11.3352 34.2855 11.4261 34.7173 11.4261C35.1416 11.4261 35.4825 11.3447 35.7401 11.1818C36.0014 11.0152 36.134 10.8011 36.1378 10.5398C36.134 10.3201 36.0412 10.1402 35.8594 10C35.6776 9.85606 35.3973 9.74621 35.0185 9.67045L33.5071 9.36932C32.6548 9.19886 32.0204 8.90341 31.6037 8.48295C31.1908 8.0625 30.9844 7.52652 30.9844 6.875C30.9844 6.31439 31.1359 5.83144 31.4389 5.42614C31.7457 5.02083 32.1757 4.70833 32.7287 4.48864C33.2855 4.26894 33.937 4.15909 34.6832 4.15909C35.7855 4.15909 36.6529 4.39205 37.2855 4.85795C37.9219 5.32386 38.2931 5.95833 38.3991 6.76136ZM44.0653 13.1705C43.1828 13.1705 42.4195 12.983 41.7756 12.608C41.1354 12.2292 40.6411 11.7027 40.2926 11.0284C39.9441 10.3504 39.7699 9.56439 39.7699 8.67045C39.7699 7.76894 39.9441 6.98106 40.2926 6.30682C40.6411 5.62879 41.1354 5.10227 41.7756 4.72727C42.4195 4.34848 43.1828 4.15909 44.0653 4.15909C44.9479 4.15909 45.7093 4.34848 46.3494 4.72727C46.9934 5.10227 47.4896 5.62879 47.8381 6.30682C48.1866 6.98106 48.3608 7.76894 48.3608 8.67045C48.3608 9.56439 48.1866 10.3504 47.8381 11.0284C47.4896 11.7027 46.9934 12.2292 46.3494 12.608C45.7093 12.983 44.9479 13.1705 44.0653 13.1705ZM44.0767 11.2955C44.4782 11.2955 44.8134 11.1818 45.0824 10.9545C45.3513 10.7235 45.554 10.4091 45.6903 10.0114C45.8305 9.61364 45.9006 9.16098 45.9006 8.65341C45.9006 8.14583 45.8305 7.69318 45.6903 7.29545C45.554 6.89773 45.3513 6.58333 45.0824 6.35227C44.8134 6.12121 44.4782 6.00568 44.0767 6.00568C43.6714 6.00568 43.3305 6.12121 43.054 6.35227C42.7813 6.58333 42.5748 6.89773 42.4347 7.29545C42.2983 7.69318 42.2301 8.14583 42.2301 8.65341C42.2301 9.16098 42.2983 9.61364 42.4347 10.0114C42.5748 10.4091 42.7813 10.7235 43.054 10.9545C43.3305 11.1818 43.6714 11.2955 44.0767 11.2955ZM52.3551 1.36364V13H49.9347V1.36364H52.3551ZM55.7088 13.1477C55.3338 13.1477 55.0118 13.0152 54.7429 12.75C54.4777 12.4811 54.3452 12.1591 54.3452 11.7841C54.3452 11.4129 54.4777 11.0947 54.7429 10.8295C55.0118 10.5644 55.3338 10.4318 55.7088 10.4318C56.0724 10.4318 56.3906 10.5644 56.6634 10.8295C56.9361 11.0947 57.0724 11.4129 57.0724 11.7841C57.0724 12.0341 57.008 12.2633 56.8793 12.4716C56.7543 12.6761 56.5895 12.8409 56.3849 12.9659C56.1804 13.0871 55.955 13.1477 55.7088 13.1477ZM59.0597 13V4.27273H61.4801V13H59.0597ZM60.2756 3.14773C59.9157 3.14773 59.607 3.02841 59.3494 2.78977C59.0956 2.54735 58.9688 2.25758 58.9688 1.92045C58.9688 1.58712 59.0956 1.30114 59.3494 1.0625C59.607 0.820075 59.9157 0.698863 60.2756 0.698863C60.6354 0.698863 60.9422 0.820075 61.196 1.0625C61.4536 1.30114 61.5824 1.58712 61.5824 1.92045C61.5824 2.25758 61.4536 2.54735 61.196 2.78977C60.9422 3.02841 60.6354 3.14773 60.2756 3.14773ZM67.3622 13.1705C66.4796 13.1705 65.7164 12.983 65.0724 12.608C64.4323 12.2292 63.938 11.7027 63.5895 11.0284C63.241 10.3504 63.0668 9.56439 63.0668 8.67045C63.0668 7.76894 63.241 6.98106 63.5895 6.30682C63.938 5.62879 64.4323 5.10227 65.0724 4.72727C65.7164 4.34848 66.4796 4.15909 67.3622 4.15909C68.2448 4.15909 69.0062 4.34848 69.6463 4.72727C70.2902 5.10227 70.7865 5.62879 71.1349 6.30682C71.4834 6.98106 71.6577 7.76894 71.6577 8.67045C71.6577 9.56439 71.4834 10.3504 71.1349 11.0284C70.7865 11.7027 70.2902 12.2292 69.6463 12.608C69.0062 12.983 68.2448 13.1705 67.3622 13.1705ZM67.3736 11.2955C67.7751 11.2955 68.1103 11.1818 68.3793 10.9545C68.6482 10.7235 68.8509 10.4091 68.9872 10.0114C69.1274 9.61364 69.1974 9.16098 69.1974 8.65341C69.1974 8.14583 69.1274 7.69318 68.9872 7.29545C68.8509 6.89773 68.6482 6.58333 68.3793 6.35227C68.1103 6.12121 67.7751 6.00568 67.3736 6.00568C66.9683 6.00568 66.6274 6.12121 66.3509 6.35227C66.0781 6.58333 65.8717 6.89773 65.7315 7.29545C65.5952 7.69318 65.527 8.14583 65.527 8.65341C65.527 9.16098 65.5952 9.61364 65.7315 10.0114C65.8717 10.4091 66.0781 10.7235 66.3509 10.9545C66.6274 11.1818 66.9683 11.2955 67.3736 11.2955Z" 
              fill="black"
              />
          </svg>
        </Link>
        <Chip color="success" variant="dot">Update: {buildDate}</Chip>
      </NavbarBrand>

      {/* <NavbarContent className="hidden sm:flex gap-4" justify="center">
        <NavbarItem>
          <Link color="foreground" href="#">
            Github
          </Link>
        </NavbarItem>
        <NavbarItem isActive>
          <Link href="#" aria-current="page" color="secondary">
            Profile
          </Link>
        </NavbarItem>
        <NavbarItem>
          <Link color="foreground" href="#">
            etc..  
          </Link>
        </NavbarItem>
      </NavbarContent> */}

      <NavbarContent as="div" justify="end">
        <DarkModeSwitch />
        <Dropdown placement="bottom-end">
          <DropdownTrigger>
            <Avatar
              isBordered
              as="button"
              className="transition-transform"
              color="success"
              name="Jason Hughes"
              size="sm"
              src="https://i.pravatar.cc/150?u=a042581f4e29026704d"
            />
          </DropdownTrigger>
          <DropdownMenu aria-label="Profile Actions" variant="flat">
            <DropdownItem key="profile" className="h-14 gap-2">
              {/* <p className="font-semibold">Signed in as</p> */}
              {/* <p className="font-semibold">vawav11@gmail.com</p> */}
              Lee HanSol
            </DropdownItem>
            <DropdownItem key="drop-mail">vawav11@gmail.com</DropdownItem>
            <DropdownItem key="drop-job">Frontend Jr</DropdownItem>
            <DropdownItem key="drop-skill-1">React</DropdownItem>
            <DropdownItem key="drop-skill-2">TS</DropdownItem>
            {/* <DropdownItem key="system">System</DropdownItem> */}
            {/* <DropdownItem key="configurations">Configurations</DropdownItem> */}
            {/* <DropdownItem key="help_and_feedback">Help & Feedback</DropdownItem> */}
            {/* <DropdownItem key="logout" color="danger">
              Log Out
            </DropdownItem> */}
          </DropdownMenu>
        </Dropdown>
      </NavbarContent>
      <NavbarMenu>
        <SplitCategories categoryList={categoryList} />
      </NavbarMenu>

    </Navbar>
  );
};
